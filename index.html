
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
<head> 
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" /> 
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/> 
    <title>Google Maps Javascript API v3 Example: Link To This Page</title> 
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script> 
<style type="text/css">
html, body { height: 100%; } 
</style>
    <script type="text/javascript">
    //<![CDATA[
      // Before we go looking for the passed parameters, set some defaults
      // in case there are no patameters
      var lat = 0;
      var lng = 0;
      var zoom = 17;
      var maptype = google.maps.MapTypeId.SATELLITE;
var map = null;    

  function initialize() {

      // ========== Read paramaters that have been passed in ==========
      

      // If there are any parameters at eh end of the URL, they will be in  location.search
      // looking something like  "?lat=50&lng=-3&zoom=10&type=h"

      // skip the first character, we are not interested in the "?"
      var query = location.search.substring(1);

      // split the rest at each "&" character to give a list of  "argname=value"  pairs
      var pairs = query.split("&");
      for (var i=0; i<pairs.length; i++) {
        // break each pair at the first "=" to obtain the argname and value
	var pos = pairs[i].indexOf("=");
	var argname = pairs[i].substring(0,pos).toLowerCase();
	var value = pairs[i].substring(pos+1).toLowerCase();
        // alert("argname="+argname+" ,value="+value);
        // process each possible argname
        if (argname == "lat") {lat = parseFloat(value);}
        if (argname == "lng") {lng = parseFloat(value);}
      }

      // ========== Create the map using the information obtained above ========
    var myOptions = {
      zoom: zoom,
      center: new google.maps.LatLng(lat,lng),
      mapTypeId: maptype
    }
    map = new google.maps.Map(document.getElementById("map"), myOptions);

    }
    
    //]]>
    </script>
  </head>
<body style="margin:0px; padding:0px;" onload="initialize()"> 


    <div id="map" style="width: 550px; height: 450px"></div>
  </body>

</html>
